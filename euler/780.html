<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>projecteuler solutions - Kirill Dikalin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../euler/euler_css.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/monokai-sublime.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <link rel="icon" href="../images/favicon.ico" type="image/x-icon">
</head>

<body>
  <ul class="breadcrumb">
      <a class="bread_crumb" href="../index.html">Kirill Dikalin</a> 
      / 
      <a class="bread_crumb" href="./euler.html">Решение задач Эйлера</a>
      / 
      780
  </ul>

  <div class="our_framework">
    <div class="section_content">
      <div id="toc_container">
            
        <h2 id="780">Ториангуляции</h2>

            <div align="justify" class="problem_content">
                <p>Для положительных вещественных чисел
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="0" style="font-size: 117.3%; position: relative;">
                        <mjx-math class="MJX-TEX" aria-hidden="true">
                            <mjx-mi class="mjx-i">
                                <mjx-c class="mjx-c1D44E TEX-I"></mjx-c>
                            </mjx-mi>
                            <mjx-mo class="mjx-n">
                                <mjx-c class="mjx-c2C"></mjx-c>
                            </mjx-mo>
                            <mjx-mi class="mjx-i" space="2">
                                <mjx-c class="mjx-c1D44F TEX-I"></mjx-c>
                            </mjx-mi>
                        </mjx-math>
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mi>a</mi>
                                <mo>,</mo>
                                <mi>b ,</mi>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container>тор
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="1" style="font-size: 117.3%; position: relative;">
                        <mjx-math class="MJX-TEX" aria-hidden="true">
                            <mjx-mi class="mjx-i">
                                <mjx-c class="mjx-c1D44E TEX-I"></mjx-c>
                            </mjx-mi>
                            <mjx-mo class="mjx-n" space="3">
                                <mjx-c class="mjx-cD7"></mjx-c>
                            </mjx-mo>
                            <mjx-mi class="mjx-i" space="3">
                                <mjx-c class="mjx-c1D44F TEX-I"></mjx-c>
                            </mjx-mi>
                        </mjx-math>
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mi>a</mi>
                                <mo>×</mo>
                                <mi>b</mi>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container> это прямоугольник шириной
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="2" style="font-size: 117.3%; position: relative;">
                        <mjx-math class="MJX-TEX" aria-hidden="true">
                            <mjx-mi class="mjx-i">
                                <mjx-c class="mjx-c1D44E TEX-I"></mjx-c>
                            </mjx-mi>
                        </mjx-math>
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mi>a</mi>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container> и высотой
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="3" style="font-size: 117.3%; position: relative;">
                        <mjx-math class="MJX-TEX" aria-hidden="true">
                            <mjx-mi class="mjx-i">
                                <mjx-c class="mjx-c1D44F TEX-I"></mjx-c>
                            </mjx-mi>
                        </mjx-math>
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mi>b ,</mi>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container>чьи левая и правая сторона идентичны, равно как и верхняя и нижняя сторона. Другими словами, при прочерчивании пути на прямоугольнике, достигнув края прямоугольника путь "оборачивается вокруг" и продолжается из соответствующей точки на противоположной стороне.</p>
                <p> Выкладывание плиткой тора - это способ разбить его на равносторонние треугольники с длиной стороны 1. Например, следующие три изображения показывают соответственно тор
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="4" style="font-size: 117.3%; position: relative;">
                        <mjx-math class="MJX-TEX" aria-hidden="true">
                            <mjx-mn class="mjx-n">
                                <mjx-c class="mjx-c31"></mjx-c>
                            </mjx-mn>
                            <mjx-mo class="mjx-n" space="3">
                                <mjx-c class="mjx-cD7"></mjx-c>
                            </mjx-mo>
                            <mjx-mfrac space="3">
                                <mjx-frac>
                                    <mjx-num>
                                        <mjx-nstrut></mjx-nstrut>
                                        <mjx-msqrt size="s">
                                            <mjx-sqrt>
                                                <mjx-surd>
                                                    <mjx-mo class="mjx-n">
                                                        <mjx-c class="mjx-c221A"></mjx-c>
                                                    </mjx-mo>
                                                </mjx-surd>
                                                <mjx-box style="padding-top: 0.164em;">
                                                    <mjx-mn class="mjx-n">
                                                        <mjx-c class="mjx-c33"></mjx-c>
                                                    </mjx-mn>
                                                </mjx-box>
                                            </mjx-sqrt>
                                        </mjx-msqrt>
                                    </mjx-num>
                                    <mjx-dbox>
                                        <mjx-dtable>
                                            <mjx-line></mjx-line>
                                            <mjx-row>
                                                <mjx-den>
                                                    <mjx-dstrut></mjx-dstrut>
                                                    <mjx-mn class="mjx-n" size="s">
                                                        <mjx-c class="mjx-c32"></mjx-c>
                                                    </mjx-mn>
                                                </mjx-den>
                                            </mjx-row>
                                        </mjx-dtable>
                                    </mjx-dbox>
                                </mjx-frac>
                            </mjx-mfrac>
                        </mjx-math>
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mn>1</mn>
                                <mo>×</mo>
                                <mfrac>
                                    <msqrt>
                                        <mn>3</mn>
                                    </msqrt>
                                    <mn>2</mn>
                                </mfrac>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container> с двумя треугольниками, тор
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="5" style="font-size: 117.3%; position: relative;">
                        <mjx-math class="MJX-TEX" aria-hidden="true">
                            <mjx-msqrt>
                                <mjx-sqrt>
                                    <mjx-surd>
                                        <mjx-mo class="mjx-n">
                                            <mjx-c class="mjx-c221A"></mjx-c>
                                        </mjx-mo>
                                    </mjx-surd>
                                    <mjx-box style="padding-top: 0.164em;">
                                        <mjx-mn class="mjx-n">
                                            <mjx-c class="mjx-c33"></mjx-c>
                                        </mjx-mn>
                                    </mjx-box>
                                </mjx-sqrt>
                            </mjx-msqrt>
                            <mjx-mo class="mjx-n" space="3">
                                <mjx-c class="mjx-cD7"></mjx-c>
                            </mjx-mo>
                            <mjx-mn class="mjx-n" space="3">
                                <mjx-c class="mjx-c31"></mjx-c>
                            </mjx-mn>
                        </mjx-math>
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <msqrt>
                                    <mn>3</mn>
                                </msqrt>
                                <mo>×</mo>
                                <mn>1</mn>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container> с четырьмя треугольниками и тор примерно 
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="6" style="font-size: 117.3%; position: relative;">
                        <mjx-math class="MJX-TEX" aria-hidden="true">
                            <mjx-mn class="mjx-n">
                                <mjx-c class="mjx-c32"></mjx-c>
                                <mjx-c class="mjx-c2E"></mjx-c>
                                <mjx-c class="mjx-c38"></mjx-c>
                                <mjx-c class="mjx-c34"></mjx-c>
                                <mjx-c class="mjx-c33"></mjx-c>
                                <mjx-c class="mjx-c32"></mjx-c>
                            </mjx-mn>
                            <mjx-mo class="mjx-n" space="3">
                                <mjx-c class="mjx-cD7"></mjx-c>
                            </mjx-mo>
                            <mjx-mn class="mjx-n" space="3">
                                <mjx-c class="mjx-c32"></mjx-c>
                                <mjx-c class="mjx-c2E"></mjx-c>
                                <mjx-c class="mjx-c31"></mjx-c>
                                <mjx-c class="mjx-c33"></mjx-c>
                                <mjx-c class="mjx-c32"></mjx-c>
                                <mjx-c class="mjx-c32"></mjx-c>
                            </mjx-mn>
                        </mjx-math>
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mn>2.8432</mn>
                                <mo>×</mo>
                                <mn>2.1322</mn>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container> с 14 треугольниками:</p>
                <div style="text-align:center; display: flex; justify-content: center;"> 
                    <img src="https://projecteuler.net/project/images/p780_sample-small-1.png" 
                        class="dark_img" alt="" height="160"> 
                    <img src="https://projecteuler.net/project/images/p780_sample-small-2.png" 
                        class="dark_img" alt="" height="160"> 
                    <img src="https://projecteuler.net/project/images/p780_sample-small-3.png" 
                        class="dark_img" alt="" height="160"> 
                </div>
                    
                <p>Для тора
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="7" style="font-size: 117.3%; position: relative;">
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mi>a</mi>
                                <mo>×</mo>
                                <mi>b</mi>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container> два выкладывания плиткой называются эквивалентными, если возможно получить одно выкладывание из другого путем непрерывного перемещения всех треугольников так, чтобы ни в какой момент перемещения между ними не образовывалось пустот и никакие треугольники не перекрывались. Например, анимация ниже демонстрирует эквивалентность двух выкладываний:</p>
                <div style="text-align:center; display: flex; justify-content: center;"> 
                    <img src="https://projecteuler.net/project/images/p780_animation.gif" 
                    class="dark_img" alt="" height="160"> 
                </div>
                <p>Пусть
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="8" style="font-size: 117.3%; position: relative;">
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mi>F</mi>
                                <mo stretchy="false">(</mo>
                                <mi>n</mi>
                                <mo stretchy="false">)</mo>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container> будет общим количеством неэквивалентных выкладываний плиткой для всех возможных торов с ровно
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="9" style="font-size: 117.3%; position: relative;">
                        <mjx-math class="MJX-TEX" aria-hidden="true">
                            <mjx-mi class="mjx-i">
                                <mjx-c class="mjx-c1D45B TEX-I"></mjx-c>
                            </mjx-mi>
                        </mjx-math>
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mi>n</mi>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container> треугольниками. Например,
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="10" style="font-size: 117.3%; position: relative;">
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mi>F</mi>
                                <mo stretchy="false">(</mo>
                                <mn>6</mn>
                                <mo stretchy="false">)</mo>
                                <mo>=</mo>
                                <mn>8 ,</mn>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container>с показанными ниже восемью неэквивалентными выкладываниями для торов с шестью треугольниками:</p>
                    <div style="text-align:center; display: flex; justify-content: center;"> 
                        <img src="https://projecteuler.net/project/images/p780_t6-all.png" 
                        class="dark_img_big" alt=""> 
                    </div>
                    <p>Пусть
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="11" style="font-size: 117.3%; position: relative;">
                        <mjx-math class="MJX-TEX" aria-hidden="true">
                            <mjx-mi class="mjx-i">
                                <mjx-c class="mjx-c1D43A TEX-I"></mjx-c>
                            </mjx-mi>
                            <mjx-mo class="mjx-n">
                                <mjx-c class="mjx-c28"></mjx-c>
                            </mjx-mo>
                            <mjx-mi class="mjx-i">
                                <mjx-c class="mjx-c1D441 TEX-I"></mjx-c>
                            </mjx-mi>
                            <mjx-mo class="mjx-n">
                                <mjx-c class="mjx-c29"></mjx-c>
                            </mjx-mo>
                            <mjx-mo class="mjx-n" space="4">
                                <mjx-c class="mjx-c3D"></mjx-c>
                            </mjx-mo>
                            <mjx-munderover space="4" limits="false">
                                <mjx-mo class="mjx-sop">
                                    <mjx-c class="mjx-c2211 TEX-S1"></mjx-c>
                                </mjx-mo>
                                <mjx-script style="vertical-align: -0.285em; margin-left: 0px;">
                                    <mjx-mi class="mjx-i" size="s">
                                        <mjx-c class="mjx-c1D441 TEX-I"></mjx-c>
                                    </mjx-mi>
                                    <mjx-spacer style="margin-top: 0.291em;"></mjx-spacer>
                                    <mjx-texatom size="s" texclass="ORD">
                                        <mjx-mi class="mjx-i">
                                            <mjx-c class="mjx-c1D45B TEX-I"></mjx-c>
                                        </mjx-mi>
                                        <mjx-mo class="mjx-n">
                                            <mjx-c class="mjx-c3D"></mjx-c>
                                        </mjx-mo>
                                        <mjx-mn class="mjx-n">
                                            <mjx-c class="mjx-c31"></mjx-c>
                                        </mjx-mn>
                                    </mjx-texatom>
                                </mjx-script>
                            </mjx-munderover>
                            <mjx-mi class="mjx-i" space="2">
                                <mjx-c class="mjx-c1D439 TEX-I"></mjx-c>
                            </mjx-mi>
                            <mjx-mo class="mjx-n">
                                <mjx-c class="mjx-c28"></mjx-c>
                            </mjx-mo>
                            <mjx-mi class="mjx-i">
                                <mjx-c class="mjx-c1D45B TEX-I"></mjx-c>
                            </mjx-mi>
                            <mjx-mo class="mjx-n">
                                <mjx-c class="mjx-c29"></mjx-c>
                            </mjx-mo>
                        </mjx-math>
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mi>G</mi>
                                <mo stretchy="false">(</mo>
                                <mi>N</mi>
                                <mo stretchy="false">)</mo>
                                <mo>=</mo>
                                <munderover>
                                    <mo data-mjx-texclass="OP">∑</mo>
                                    <mrow data-mjx-texclass="ORD">
                                        <mi>n</mi>
                                        <mo>=</mo>
                                        <mn>1</mn>
                                    </mrow>
                                    <mi>N</mi>
                                </munderover>
                                <mi>F</mi>
                                <mo stretchy="false">(</mo>
                                <mi>n</mi>
                                <mo stretchy="false">) .</mo>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container>Известно, что
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="12" style="font-size: 117.3%; position: relative;">
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mi>G</mi>
                                <mo stretchy="false">(</mo>
                                <mn>6</mn>
                                <mo stretchy="false">)</mo>
                                <mo>=</mo>
                                <mn>14</mn>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container>,
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="13" style="font-size: 117.3%; position: relative;">
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mi>G</mi>
                                <mo stretchy="false">(</mo>
                                <mn>100</mn>
                                <mo stretchy="false">)</mo>
                                <mo>=</mo>
                                <mn>8090</mn>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container> и
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="14" style="font-size: 117.3%; position: relative;">
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mi>G</mi>
                                <mo stretchy="false">(</mo>
                                <msup>
                                    <mn>10</mn>
                                    <mn>5</mn>
                                </msup>
                                <mo stretchy="false">)</mo>
                                <mo>≡</mo>
                                <mn>645124048</mn>
                                <mspace width="0.444em"></mspace>
                                <mo stretchy="false">(</mo>
                                <mi>mod</mi>
                                <mspace width="0.333em"></mspace>
                                <mn>1</mn>
                                <mstyle scriptlevel="0">
                                    <mspace width="0.167em"></mspace>
                                </mstyle>
                                <mn>000</mn>
                                <mstyle scriptlevel="0">
                                    <mspace width="0.167em"></mspace>
                                </mstyle>
                                <mn>000</mn>
                                <mstyle scriptlevel="0">
                                    <mspace width="0.167em"></mspace>
                                </mstyle>
                                <mn>007</mn>
                                <mo stretchy="false">)</mo>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container>.</p>
                <p>Найдите
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="15" style="font-size: 117.3%; position: relative;">
                        <mjx-math class="MJX-TEX" aria-hidden="true">
                            <mjx-mi class="mjx-i">
                                <mjx-c class="mjx-c1D43A TEX-I"></mjx-c>
                            </mjx-mi>
                            <mjx-mo class="mjx-n">
                                <mjx-c class="mjx-c28"></mjx-c>
                            </mjx-mo>
                            <mjx-msup>
                                <mjx-mn class="mjx-n">
                                    <mjx-c class="mjx-c31"></mjx-c>
                                    <mjx-c class="mjx-c30"></mjx-c>
                                </mjx-mn>
                                <mjx-script style="vertical-align: 0.393em;">
                                    <mjx-mn class="mjx-n" size="s">
                                        <mjx-c class="mjx-c39"></mjx-c>
                                    </mjx-mn>
                                </mjx-script>
                            </mjx-msup>
                            <mjx-mo class="mjx-n">
                                <mjx-c class="mjx-c29"></mjx-c>
                            </mjx-mo>
                        </mjx-math>
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mi>G</mi>
                                <mo stretchy="false">(</mo>
                                <msup>
                                    <mn>10</mn>
                                    <mn>9</mn>
                                </msup>
                                <mo stretchy="false">)</mo>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container>. В качестве ответа приведите остаток от деления полученного результата на
                    <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="16" style="font-size: 117.3%; position: relative;">
                        <mjx-math class="MJX-TEX" aria-hidden="true">
                            <mjx-mn class="mjx-n">
                                <mjx-c class="mjx-c31"></mjx-c>
                            </mjx-mn>
                            <mjx-mstyle>
                                <mjx-mspace style="width: 0.167em;"></mjx-mspace>
                            </mjx-mstyle>
                            <mjx-mn class="mjx-n">
                                <mjx-c class="mjx-c30"></mjx-c>
                                <mjx-c class="mjx-c30"></mjx-c>
                                <mjx-c class="mjx-c30"></mjx-c>
                            </mjx-mn>
                            <mjx-mstyle>
                                <mjx-mspace style="width: 0.167em;"></mjx-mspace>
                            </mjx-mstyle>
                            <mjx-mn class="mjx-n">
                                <mjx-c class="mjx-c30"></mjx-c>
                                <mjx-c class="mjx-c30"></mjx-c>
                                <mjx-c class="mjx-c30"></mjx-c>
                            </mjx-mn>
                            <mjx-mstyle>
                                <mjx-mspace style="width: 0.167em;"></mjx-mspace>
                            </mjx-mstyle>
                            <mjx-mn class="mjx-n">
                                <mjx-c class="mjx-c30"></mjx-c>
                                <mjx-c class="mjx-c30"></mjx-c>
                                <mjx-c class="mjx-c37"></mjx-c>
                            </mjx-mn>
                        </mjx-math>
                        <mjx-assistive-mml unselectable="on" display="inline">
                            <math xmlns="http://www.w3.org/1998/Math/MathML">
                                <mn>1</mn>
                                <mstyle scriptlevel="0">
                                    <mspace width="0.167em"></mspace>
                                </mstyle>
                                <mn>000</mn>
                                <mstyle scriptlevel="0">
                                    <mspace width="0.167em"></mspace>
                                </mstyle>
                                <mn>000</mn>
                                <mstyle scriptlevel="0">
                                    <mspace width="0.167em"></mspace>
                                </mstyle>
                                <mn>007</mn>
                            </math>
                        </mjx-assistive-mml>
                    </mjx-container>.</p>
            </div>

        <h2>Решение</h2>