<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>projecteuler solutions - Kirill Dikalin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../euler/euler_css.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/monokai-sublime.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <link rel="icon" href="../images/favicon.ico" type="image/x-icon">
</head>

<body>
  <ul class="breadcrumb">
      <a class="bread_crumb" href="../index.html">Kirill Dikalin</a> 
      / 
      <a class="bread_crumb" href="./euler.html">Решение задач Эйлера</a>
      / 
      786
  </ul>

  <div class="our_framework">
    <div class="section_content">
      <div id="toc_container">
            
        <h2 id="786">Бильярд</h2>

            <div align="justify" class="problem_content">
              <p> Диаграмма ниже показывает бильярдный стол особой четырехугольной формы. Четыре угла
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="0" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>A</mi>
                      <mo>,</mo>
                      <mi>B</mi>
                      <mo>,</mo>
                      <mi>C</mi>
                      <mo>,</mo>
                      <mi>D</mi>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container> равны
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="1" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <msup>
                        <mn>120</mn>
                        <mo>∘</mo>
                      </msup>
                      <mo>,</mo>
                      <msup>
                        <mn>90</mn>
                        <mo>∘</mo>
                      </msup>
                      <mo>,</mo>
                      <msup>
                        <mn>60</mn>
                        <mo>∘</mo>
                      </msup>
                      <mo>,</mo>
                      <msup>
                        <mn>90</mn>
                        <mo>∘</mo>
                      </msup>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container> соответственно, а длины
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="2" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>A</mi>
                      <mi>B</mi>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container> и
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="3" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>A</mi>
                      <mi>D</mi>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container> равны между собой.</p>
              <div style="text-align:center; display: flex; justify-content: center;"> 
                <img src="https://projecteuler.net/project/images/p786_billiard_shape.jpg" 
                class="dark_img_big" alt="" height="160"> 
              </div>
              <p> Диаграмма слева показывает траекторию бесконечного малого бильярдного шара, начавшего движение из точки
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="4" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>A</mi>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container>, дважды отбившегося от бортов стола и вернувшегося обратно в точку
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="5" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>A</mi>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container>. Диаграмма справа показывает другую такую траекторию, но на этот раз шар отбился от бортов восемь раз:</p>
                <div style="text-align:center; display: flex; justify-content: center; width: 1000px; height: 400px;"> 
                  <img src="https://projecteuler.net/project/images/p786_billiard_traces.jpg" 
                  class="dark_img_big_high_width" alt="" height="160"> 
                </div>
              <p> На столе отсутствует трение и все отскоки являются идеально эластичными столкновениями.
                <br> Заметим, что ни один отскок не должен происходить в любом из углов стола, так как поведение шара в таком случае будет непредсказуемым. </p>
              <p> Пусть
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="6" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>B</mi>
                      <mo stretchy="false">(</mo>
                      <mi>N</mi>
                      <mo stretchy="false">)</mo>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container> будет количеством возможных траекторий шара, начавшего движение из точки
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="7" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>A</mi>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container>, отбившегося не более
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="8" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>N</mi>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container> раз от бортов и вернувшегося обратно в точку
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="9" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>A</mi>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container>. </p>
              <p> Например,
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="10" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>B</mi>
                      <mo stretchy="false">(</mo>
                      <mn>10</mn>
                      <mo stretchy="false">)</mo>
                      <mo>=</mo>
                      <mn>6</mn>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container>,
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="11" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>B</mi>
                      <mo stretchy="false">(</mo>
                      <mn>100</mn>
                      <mo stretchy="false">)</mo>
                      <mo>=</mo>
                      <mn>478</mn>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container>,
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="12" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>B</mi>
                      <mo stretchy="false">(</mo>
                      <mn>1000</mn>
                      <mo stretchy="false">)</mo>
                      <mo>=</mo>
                      <mn>45790</mn>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container>. </p>
              <p> Найдите
                <mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" tabindex="0" ctxtmenu_counter="13" style="font-size: 117.3%; position: relative;">
                  <mjx-assistive-mml unselectable="on" display="inline">
                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                      <mi>B</mi>
                      <mo stretchy="false">(</mo>
                      <msup>
                        <mn>10</mn>
                        <mn>9</mn>
                      </msup>
                      <mo stretchy="false">)</mo>
                    </math>
                  </mjx-assistive-mml>
                </mjx-container>. </p>
            </div>


        <h2>Решение</h2>